<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Cyber Vulnerability Scorecard</title>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f4f6f8;
    }

    /* HEADER */
    .header {
        display: flex;
        align-items: center;
        padding: 12px 18px;
        background: #3b82f6;
        color: white;
    }

    /* MENU BUTTON LEFT */
    .menu-btn {
        background: transparent;
        border: none;
        color: white;
        font-size: 24px;
        cursor: pointer;
        margin-right: 15px;
        padding: 4px;
    }

    .menu-btn:hover {
        opacity: 0.7;
    }

    .header h1 {
        font-size: 20px;
        margin: 0;
    }

    .top-right {
        margin-left: auto;
    }

    .btn {
        background: white;
        color: black;
        padding: 8px 14px;
        border-radius: 8px;
        font-size: 14px;
        cursor: pointer;
        border: none;
        transition: 0.3s;
    }

    /* LAYOUT */
    .container {
        display: flex;
        height: calc(100vh - 60px);
    }

    /* SIDEBAR */
    .sidebar {
        width: 200px;
        background: #ffffff;
        border-right: 1px solid #d1d9e6;
        box-shadow: 2px 0 6px rgba(0,0,0,0.08);
        transition: width 0.3s;
        overflow: hidden;
    }
    .sidebar.collapsed {
        width: 0px;
        border: none;
        box-shadow: none;
    }
    .menu-item {
        padding: 12px 16px;
        cursor: pointer;
        white-space: nowrap;
        transition: background 0.3s, transform 0.2s;
    }
    .menu-item:hover {
        background: #eef5ff;
        transform: translateX(4px);
    }

    /* CONTENT */
    .content {
        flex: 1;
        padding: 15px;
        overflow-y: auto;
    }
    .card {
        background: white;
        padding: 20px;
        border-radius: 14px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.12);
        max-width: 100%;
        transition: background 0.3s;
    }
    .card:hover {
        background: #E8F9FF;
    }
    .card img {
        width: 100%;
        max-height: 85vh;
        object-fit: contain;
        border-radius: 10px;
    }
.footer {
        position: sticky;
        bottom: 0;
        text-align: center;
        padding: 10px 0;
        font-size: 14px;
        color: #555;
        background: #f4f6f8;
        margin-top: 20px;
    }
</style>
</head>
<body>

<div class="header">
    <button class="menu-btn" onclick="toggleSidebar()">☰</button>
    <h1>Cyber Vulnerability Scorecard</h1>

    <div class="top-right">
        <button class="btn" onclick="loadDocumentation()">Documentation</button>
        <button class="btn" onclick="downloadPBIX()">Download PBIX</button>
    </div>
</div>

<div class="container">
    <div class="sidebar" id="sidebar">
        <div class="menu-item" onclick="loadImage('Screenshot_vulnerability_scorecard_main.png')">Scorecard Main</div>
        <div class="menu-item" onclick="loadImage('screenshot_threat_overview.png')">Threat Overview</div>
        <div class="menu-item" onclick="loadImage('Screenshot_vulnerability_and_defense_actions.png')">Defense Actions</div>
        <div class="menu-item" onclick="loadImage('Screenshot_vulnerability_profile.png')">Vulnerability Profile</div>
        <div class="menu-item" onclick="loadImage('screenshot_threat_impact.png')">Threat Impact</div>
        <div class="menu-item" onclick="loadImage('screenshot_attack_overwiew.png')">Attack Overview</div>
        <div class="menu-item" onclick="loadImage('screenshot_attack_details.png')">Attack Details</div>
    </div>

    <div class="content">
        <div class="card" id="display-card">
            <img src="https://raw.githubusercontent.com/atsuvovor/projects_portfolio.github.io/main/Screenshot_vulnerability_scorecard_main.png">
        </div>
        <footer class="footer">© 2025 Atsu Vovor — All Rights Reserved</footer>
    </div>
</div>
<script>
function loadImage(filename) {
    const url = "https://raw.githubusercontent.com/atsuvovor/projects_portfolio.github.io/main/" + filename;
    document.getElementById("display-card").innerHTML = `<img src="${url}" />`;
}

function downloadPBIX() {
    window.location.href = "https://raw.githubusercontent.com/atsuvovor/power_bi_projects/main/docs/cyber_attack_insight/cyber_attack_insight_dashboard.pbix";
}


function toggleSidebar() {
    const sidebar = document.getElementById("sidebar");
    sidebar.classList.toggle("collapsed");
}

async function loadDocumentation() {
    const url = "https://raw.githubusercontent.com/atsuvovor/power_bi_projects/main/docs/cyber_attack_insight/README.md";
    let mdText = await (await fetch(url)).text();

    // Base URL for relative image paths
    const base = "https://raw.githubusercontent.com/atsuvovor/power_bi_projects/main/docs/cyber_attack_insight/";

    // Convert Markdown image syntax ![alt](images/...) → absolute URLs
    mdText = mdText.replace(/!\[(.*?)\]\((images\/.*?)\)/g, (match, alt, relPath) =>
        `![${alt}](${base}${relPath.replace(/^\.\//, "")})`
    );

    // Convert <img> tags in HTML (like <p><img ...></p>) to absolute URLs + responsive
    mdText = mdText.replace(/<img\s+([^>]*?)src=["']([^"']+)["']([^>]*)>/gi, (match, pre, path, post) => {
        if (path.startsWith("http")) return match; // already absolute
        const newPath = base + path.replace(/^\.\//, "");
        // Remove fixed width/height attributes
        post = post.replace(/width=["']\d+["']/gi, '');
        post = post.replace(/height=["']\d+["']/gi, '');

        if (path.includes("vulnerability_scorecard_3D.png")) {
            post += ' style="max-width:100%; height:300px; object-fit:contain;"';
        } else if (!/style=/i.test(post)) {
            post += ' style="max-width:100%; height:auto;"';
        }
        return `<img ${pre}src="${newPath}"${post}>`;
    });

    // Convert Markdown to HTML
    const html = marked.parse(mdText);

    // Display in the card
    document.getElementById("display-card").innerHTML = `
        <div style="padding: 10px; max-width: 1200px; margin: auto;">
            ${html}
        </div>
    `;
}




</script>

  </body>
</html>
